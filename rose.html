<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script language="javascript" type="text/javascript" src="libraries/p5.js"></script>
    <script language="javascript" type="text/javascript" src="libraries/p5.dom.js"></script>
      <style> body {padding: 0; margin: 0;} </style>

</head>
<body>
<script>
var x, y, k, n, d,col;
var offset = 300;
var count =0;
var currentHue;
var hueSpeed = 1;
var currentAlpha = 0;

function setup(){
  createCanvas(600,600);
  background(20);
  n = sqrt(2);
  d = 1;
  currentHue = random(255);
}
function draw(){
  currentHue += hueSpeed;
  if (currentHue > 255 || currentHue <=0) {
    hueSpeed = hueSpeed *-1;
  }
  if (mouseIsPressed){
  var distX = mouseX-300;
  var distY = mouseY-300;
  n = map(distX, 0, 600, 1, 7);
  d = map(distY, 0, 600, 1, 9);
  }
  k = n/d;
  background(20);
  push();
  colorMode(HSB);
  beginShape();
  strokeWeight(1);
  noFill();
  for(var angle = 0; angle < 100; angle += 0.01){
    x = cos(k*angle)*cos(angle)*200;
    y = cos(k*angle)*sin(angle)*200;

    // if (count <= 30){

// currentHue += hueSpeed/10;
// if (currentHue > 255 || currentHue <=0) {
//   hueSpeed = hueSpeed *-1;
// }
// stroke(currentHue,255,255);

    //  stroke(0, random(100,255), random(100,255));
    //} else if (count <= 60){

  stroke(currentHue,255,255);

    //   var distance = dist(0,0,x,y);
    //   var col = map(distance,0,300,0,1);
    //   stroke(0, 255-col*255+count, col*255+count);
    // }else if (count < 90){
    //   stroke(255/angle+10, 100+angle, 255-angle);
    // }else{
    //   count = 0;
    // }
    vertex(x+offset, y+offset);
  }
  endShape();
   colorMode(RGB);
  count+=1;
  pop();
}

</script>
</body>
</html>
